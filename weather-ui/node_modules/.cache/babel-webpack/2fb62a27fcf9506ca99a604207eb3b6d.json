{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as Highcharts from 'highcharts';\nimport { configs } from '../configs/configs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"highcharts-angular\";\nexport let ChartComponent = /*#__PURE__*/(() => {\n  class ChartComponent {\n    constructor(data, http) {\n      var _a, _b;\n\n      this.data = data;\n      this.http = http;\n      this.highcharts = Highcharts;\n      this.chartOptions = {\n        title: {\n          text: \"Average Temprature\" //text: `${this.date}`\n\n        },\n        xAxis: {\n          title: {\n            text: 'Tokyo'\n          },\n          categories: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n        },\n        yAxis: {\n          title: {\n            text: \"Temprature\"\n          }\n        },\n        series: [{\n          data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 24.4, 19.3, 16.0, 18.4, 17.9],\n          type: 'spline'\n        }]\n      };\n      this.httpOptions = {\n        headers: new HttpHeaders({\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        })\n      };\n      console.log('inside chart component' + data.date);\n      console.log('inside chart component' + data.city);\n      this.date = data.date;\n      this.city = data.city;\n      console.log((_a = this.date) === null || _a === void 0 ? void 0 : _a.getTime());\n      this.httpOptions = {\n        headers: new HttpHeaders({\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        })\n      };\n      this.categoriesArr = [];\n      this.valArr = [];\n      this.http.get(configs.baseUrl + '/weather/detail/qhourly?city=' + this.city + '&date=' + ((_b = this.date) === null || _b === void 0 ? void 0 : _b.getTime()), this.httpOptions).subscribe(val => {\n        console.log(val);\n        var index = 0;\n        val.forEach(cValue => {\n          //cValue.date;\n          this.categoriesArr[index] = new Date(cValue.date) + \"\";\n          this.valArr[index] = cValue.value;\n          console.log(cValue + ' ' + cValue.date);\n          index++;\n        });\n        this.chartOptions = {\n          title: {//text: \"Hourly Temprature\"\n            //text: `${this.date}`\n          },\n          xAxis: {\n            title: {\n              text: 'Time Range'\n            },\n            categories: this.categoriesArr\n          },\n          yAxis: {\n            title: {\n              text: \"Temprature\"\n            }\n          },\n          series: [{\n            name: \"Temp Range\",\n            data: this.valArr,\n            type: 'spline'\n          }]\n        };\n        console.log(this.categoriesArr);\n        console.log(this.valArr);\n      });\n      console.log('Chartoptions : ' + this.chartOptions.xAxis);\n    }\n\n    ngOnInit() {}\n\n  }\n\n  ChartComponent.ɵfac = function ChartComponent_Factory(t) {\n    return new (t || ChartComponent)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  ChartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChartComponent,\n    selectors: [[\"app-chart\"]],\n    decls: 1,\n    vars: 2,\n    consts: [[3, \"Highcharts\", \"options\"]],\n    template: function ChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"highcharts-chart\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"Highcharts\", ctx.highcharts)(\"options\", ctx.chartOptions);\n      }\n    },\n    directives: [i2.HighchartsChartComponent],\n    styles: [\"\"]\n  });\n  return ChartComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}